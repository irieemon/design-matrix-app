# E2E Test Report: Authentication ‚Üí Ideas Loading Flow

Generated: 2025-10-02T00:24:30.093Z

---

## Test Results Summary

| Test Area | Status |
|-----------|--------|
| Authentication Works | ‚ùå FAIL |
| UI Transitions Work | ‚úÖ PASS |
| Ideas Loading Works | ‚ùå FAIL |
| API Calls Made | ‚ùå FAIL |

**Overall Result**: ‚ùå **FAIL**

---

## Phase 1: Authentication Logs

```
[log] %cINFO %c [AuthScreen] üé≠ Signing in as anonymous demo user... 
[log] %cINFO %c [AuthScreen] ‚úÖ Anonymous user signed in: {id: ca32712f-8a4d-442c-9ba4-87394827891e, isAnonymous: true, createdAt: 2025-10-02T00:23:49.929641Z}
[log] %cINFO %c [AuthScreen] ‚úÖ Demo user authenticated successfully with Supabase session 
```

## Phase 2: Ideas Loading Logs

‚ö†Ô∏è No ideas loading logs captured

## Network Activity

```
GET http://localhost:3003/src/lib/supabase.ts ‚Üí 200
GET http://localhost:3003/node_modules/.vite/deps/@supabase_supabase-js.js?v=27ee24dc ‚Üí 200
POST https://vfovtgtjailvrphsgafv.supabase.co/auth/v1/signup ‚Üí 200
GET http://localhost:3003/api/auth/user ‚Üí 500
HEAD https://vfovtgtjailvrphsgafv.supabase.co/rest/v1/projects?select=id&owner_id=eq.ca32712f-8a4d-442c-9ba4-87394827891e&limit=1 ‚Üí 200
POST http://localhost:3003/api/auth/clear-cache ‚Üí 200
GET http://localhost:3003/api/auth/user ‚Üí 500
PATCH https://vfovtgtjailvrphsgafv.supabase.co/rest/v1/ideas?editing_at=lt.2025-10-02T00%3A19%3A18.751Z ‚Üí 204
```

## Screenshots

- Login Screen: `test-results/evidence/login-1759364629336.png`
- After Authentication: `test-results/evidence/after-auth-1759364644740.png`
- Matrix View: `test-results/evidence/matrix-1759364670031.png`

## Complete Console Log

<details>
<summary>Click to expand full console output (16 messages)</summary>

```
[debug] [vite] connecting...
[info] %cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools font-weight:bold
[warning] Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
[debug] [vite] connected.
[verbose] [DOM] Input elements should have autocomplete attributes (suggested: "current-password"): (More info: https://goo.gl/9p2vKq) %o
[log] %cINFO %c [AuthScreen] üé≠ Signing in as anonymous demo user... 
[error] Failed to load resource: the server responded with a status of 500 (Internal Server Error)
[error] [ERROR] ‚ùå Error fetching user profile: Error: Profile fetch failed: 500
    at http://localhost:3003/src/hooks/useAuth.ts:209:17
    at async getCachedUserProfile (http://localhost:3003/src/hooks/useAuth.ts:222:22)
    at async Promise.allSettled (index 0)
    at async http://localhost:3003/src/hooks/useAuth.ts:277:57
    at async Object.callback (http://localhost:3003/src/hooks/useAuth.ts:584:9)
    at async http://localhost:3003/node_modules/.vite/deps/@supabase_supabase-js.js?v=27ee24dc:7356:11
    at async Promise.all (index 1)
    at async SupabaseAuthClient._notifyAllSubscribers (http://localhost:3003/node_modules/.vite/deps/@supabase_supabase-js.js?v=27ee24dc:7361:7)
    at async SupabaseAuthClient.signInAnonymously (http://localhost:3003/node_modules/.vite/deps/@supabase_supabase-js.js?v=27ee24dc:5906:9)
    at async onClick (http://localhost:3003/src/components/auth/AuthScreen.tsx:540:52)
[error] [ERROR] ‚ùå Error fetching user profile, using fallback: Error: Profile fetch failed: 500
    at http://localhost:3003/src/hooks/useAuth.ts:209:17
    at async getCachedUserProfile (http://localhost:3003/src/hooks/useAuth.ts:222:22)
    at async Promise.allSettled (index 0)
    at async http://localhost:3003/src/hooks/useAuth.ts:277:57
    at async Object.callback (http://localhost:3003/src/hooks/useAuth.ts:584:9)
    at async http://localhost:3003/node_modules/.vite/deps/@supabase_supabase-js.js?v=27ee24dc:7356:11
    at async Promise.all (index 1)
    at async SupabaseAuthClient._notifyAllSubscribers (http://localhost:3003/node_modules/.vite/deps/@supabase_supabase-js.js?v=27ee24dc:7361:7)
    at async SupabaseAuthClient.signInAnonymously (http://localhost:3003/node_modules/.vite/deps/@supabase_supabase-js.js?v=27ee24dc:5906:9)
    at async onClick (http://localhost:3003/src/components/auth/AuthScreen.tsx:540:52)
[log] %cINFO %c [AuthScreen] ‚úÖ Anonymous user signed in: {id: ca32712f-8a4d-442c-9ba4-87394827891e, isAnonymous: true, createdAt: 2025-10-02T00:23:49.929641Z}
[log] %cINFO %c [AuthScreen] ‚úÖ Demo user authenticated successfully with Supabase session 
[log] %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[log] %c[Vercel Web Analytics]%c [pageview] http://localhost:3003/ color: rgb(120, 120, 120) color: inherit {o: http://localhost:3003/, sv: 0.1.3, sdkn: @vercel/analytics/react, sdkv: 1.5.0, ts: 1759364630518}
[error] Failed to load resource: the server responded with a status of 500 (Internal Server Error)
[error] [ERROR] ‚ùå Error fetching user profile: Error: Profile fetch failed: 500
    at http://localhost:3003/src/hooks/useAuth.ts:209:17
    at async getCachedUserProfile (http://localhost:3003/src/hooks/useAuth.ts:222:22)
    at async Promise.allSettled (index 0)
    at async http://localhost:3003/src/hooks/useAuth.ts:277:57
    at async http://localhost:3003/src/hooks/useAuth.ts:386:7
[error] [ERROR] ‚ùå Error fetching user profile, using fallback: Error: Profile fetch failed: 500
    at http://localhost:3003/src/hooks/useAuth.ts:209:17
    at async getCachedUserProfile (http://localhost:3003/src/hooks/useAuth.ts:222:22)
    at async Promise.allSettled (index 0)
    at async http://localhost:3003/src/hooks/useAuth.ts:277:57
    at async http://localhost:3003/src/hooks/useAuth.ts:386:7
```
</details>

---

## Analysis

‚ùå **Authentication**: Missing critical auth logs. The stale closure fix may not be working.

‚ùå **Ideas Loading**: Ideas loading did not complete. Check if project context is being set.

‚ùå **API Calls**: No calls to /api/ideas detected. The ideas loading may not be triggering.

